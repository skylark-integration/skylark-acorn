{"version":3,"sources":["location.js"],"names":["define","m_state","m_locutil","Parser","Position","getLineInfo","pp","prototype","raise","pos","message","loc","this","input","line","column","err","SyntaxError","raisedAt","raiseRecoverable","curPosition","options","locations","curLine","lineStart"],"mappings":";;;;;;;AAAAA,QACI,UACA,aACD,SAAUC,EAASC,GAClB,aACA,MAAMC,OAACA,GAAUF,GACXG,SAACA,EAAQC,YAAEA,GAAeH,EAC1BI,EAAKH,EAAOI,UAClBD,EAAGE,MAAQ,SAAUC,EAAKC,GACtB,IAAIC,EAAMN,EAAYO,KAAKC,MAAOJ,GAClCC,GAAW,KAAOC,EAAIG,KAAO,IAAMH,EAAII,OAAS,IAChD,IAAIC,EAAM,IAAIC,YAAYP,GAI1B,MAHAM,EAAIP,IAAMA,EACVO,EAAIL,IAAMA,EACVK,EAAIE,SAAWN,KAAKH,IACdO,GAEVV,EAAGa,iBAAmBb,EAAGE,MACzBF,EAAGc,YAAc,WACb,GAAIR,KAAKS,QAAQC,UACb,OAAO,IAAIlB,EAASQ,KAAKW,QAASX,KAAKH,IAAMG,KAAKY","file":"../location.js","sourcesContent":["define([\n    './state',\n    './locutil'\n], function (m_state, m_locutil) {\n    'use strict';\n    const {Parser} = m_state;\n    const {Position, getLineInfo} = m_locutil;\n    const pp = Parser.prototype;\n    pp.raise = function (pos, message) {\n        let loc = getLineInfo(this.input, pos);\n        message += ' (' + loc.line + ':' + loc.column + ')';\n        let err = new SyntaxError(message);\n        err.pos = pos;\n        err.loc = loc;\n        err.raisedAt = this.pos;\n        throw err;\n    };\n    pp.raiseRecoverable = pp.raise;\n    pp.curPosition = function () {\n        if (this.options.locations) {\n            return new Position(this.curLine, this.pos - this.lineStart);\n        }\n    };\n});"]}