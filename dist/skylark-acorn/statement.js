/**
 * skylark-acorn - A version of acorn that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./tokentype","./state","./whitespace","./identifier","./util","./parseutil","./scopeflags"],function(t,e,s,i,a,r,n){"use strict";const{Parser:o}=e,{lineBreak:h,skipWhiteSpace:p}=s,{isIdentifierStart:l,isIdentifierChar:c,keywordRelationalOperator:u}=i,{hasOwn:d,loneSurrogate:f}=a,{DestructuringErrors:m}=r,{functionFlags:x,SCOPE_SIMPLE_CATCH:y,BIND_SIMPLE_CATCH:S,BIND_LEXICAL:b,BIND_VAR:k,BIND_FUNCTION:E,SCOPE_CLASS_STATIC_BLOCK:C,SCOPE_SUPER:N}=n,g=o.prototype;g.parseTopLevel=function(e){let exports=Object.create(null);for(e.body||(e.body=[]);this.type!==t.eof;){let t=this.parseStatement(null,!0,exports);e.body.push(t)}if(this.inModule)for(let t of Object.keys(this.undefinedExports))this.raiseRecoverable(this.undefinedExports[t].start,`Export '${t}' is not defined`);return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};const I={kind:"loop"},v={kind:"switch"};g.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;p.lastIndex=this.pos;let e=p.exec(this.input),s=this.pos+e[0].length,i=this.input.charCodeAt(s);if(91===i||92===i)return!0;if(t)return!1;if(123===i||i>55295&&i<56320)return!0;if(l(i,!0)){let t=s+1;for(;c(i=this.input.charCodeAt(t),!0);)++t;if(92===i||i>55295&&i<56320)return!0;let e=this.input.slice(s,t);if(!u.test(e))return!0}return!1},g.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;p.lastIndex=this.pos;let t,e=p.exec(this.input),s=this.pos+e[0].length;return!(h.test(this.input.slice(this.pos,s))||"function"!==this.input.slice(s,s+8)||s+8!==this.input.length&&(c(t=this.input.charCodeAt(s+8))||t>55295&&t<56320))},g.parseStatement=function(e,s,exports){let i,a=this.type,r=this.startNode();switch(this.isLet(e)&&(a=t._var,i="let"),a){case t._break:case t._continue:return this.parseBreakContinueStatement(r,a.keyword);case t._debugger:return this.parseDebuggerStatement(r);case t._do:return this.parseDoStatement(r);case t._for:return this.parseForStatement(r);case t._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!e);case t._class:return e&&this.unexpected(),this.parseClass(r,!0);case t._if:return this.parseIfStatement(r);case t._return:return this.parseReturnStatement(r);case t._switch:return this.parseSwitchStatement(r);case t._throw:return this.parseThrowStatement(r);case t._try:return this.parseTryStatement(r);case t._const:case t._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(r,i);case t._while:return this.parseWhileStatement(r);case t._with:return this.parseWithStatement(r);case t.braceL:return this.parseBlock(!0,r);case t.semi:return this.parseEmptyStatement(r);case t._export:case t._import:if(this.options.ecmaVersion>10&&a===t._import){p.lastIndex=this.pos;let t=p.exec(this.input),e=this.pos+t[0].length,s=this.input.charCodeAt(e);if(40===s||46===s)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(s||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),a===t._import?this.parseImport(r):this.parseExport(r,exports);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!e);let n=this.value,o=this.parseExpression();return a===t.name&&"Identifier"===o.type&&this.eat(t.colon)?this.parseLabeledStatement(r,n,o,e):this.parseExpressionStatement(r,o)}},g.parseBreakContinueStatement=function(e,s){let i="break"===s;this.next(),this.eat(t.semi)||this.insertSemicolon()?e.label=null:this.type!==t.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());let a=0;for(;a<this.labels.length;++a){let t=this.labels[a];if(null==e.label||t.name===e.label.name){if(null!=t.kind&&(i||"loop"===t.kind))break;if(e.label&&i)break}}return a===this.labels.length&&this.raise(e.start,"Unsyntactic "+s),this.finishNode(e,i?"BreakStatement":"ContinueStatement")},g.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},g.parseDoStatement=function(e){return this.next(),this.labels.push(I),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(t._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(t.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},g.parseForStatement=function(e){this.next();let s=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(I),this.enterScope(0),this.expect(t.parenL),this.type===t.semi)return s>-1&&this.unexpected(s),this.parseFor(e,null);let i=this.isLet();if(this.type===t._var||this.type===t._const||i){let a=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(a,!0,r),this.finishNode(a,"VariableDeclaration"),(this.type===t._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===a.declarations.length?(this.options.ecmaVersion>=9&&(this.type===t._in?s>-1&&this.unexpected(s):e.await=s>-1),this.parseForIn(e,a)):(s>-1&&this.unexpected(s),this.parseFor(e,a))}let a=this.isContextual("let"),r=!1,n=new m,o=this.parseExpression(!(s>-1)||"await",n);return this.type===t._in||(r=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===t._in?s>-1&&this.unexpected(s):e.await=s>-1),a&&r&&this.raise(o.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(o,!1,n),this.checkLValPattern(o),this.parseForIn(e,o)):(this.checkExpressionErrors(n,!0),s>-1&&this.unexpected(s),this.parseFor(e,o))},g.parseFunctionStatement=function(t,e,s){return this.next(),this.parseFunction(t,_|(s?0:w),!1,e)},g.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(t._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},g.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(t.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},g.parseSwitchStatement=function(e){let s;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(t.braceL),this.labels.push(v),this.enterScope(0);for(let i=!1;this.type!==t.braceR;)if(this.type===t._case||this.type===t._default){let a=this.type===t._case;s&&this.finishNode(s,"SwitchCase"),e.cases.push(s=this.startNode()),s.consequent=[],this.next(),a?s.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,s.test=null),this.expect(t.colon)}else s||this.unexpected(),s.consequent.push(this.parseStatement(null));return this.exitScope(),s&&this.finishNode(s,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},g.parseThrowStatement=function(t){return this.next(),h.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};const P=[];g.parseCatchClauseParam=function(){const e=this.parseBindingAtom();let s="Identifier"===e.type;return this.enterScope(s?y:0),this.checkLValPattern(e,s?S:b),this.expect(t.parenR),e},g.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===t._catch){let s=this.startNode();this.next(),this.eat(t.parenL)?s.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),s.param=null,this.enterScope(0)),s.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(s,"CatchClause")}return e.finalizer=this.eat(t._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},g.parseVarStatement=function(t,e,s){return this.next(),this.parseVar(t,!1,e,s),this.semicolon(),this.finishNode(t,"VariableDeclaration")},g.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(I),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},g.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},g.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},g.parseLabeledStatement=function(e,s,i,a){for(let t of this.labels)t.name===s&&this.raise(i.start,"Label '"+s+"' is already declared");let r=this.type.isLoop?"loop":this.type===t._switch?"switch":null;for(let t=this.labels.length-1;t>=0;t--){let s=this.labels[t];if(s.statementStart!==e.start)break;s.statementStart=this.start,s.kind=r}return this.labels.push({name:s,kind:r,statementStart:this.start}),e.body=this.parseStatement(a?-1===a.indexOf("label")?a+"label":a:"label"),this.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")},g.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},g.parseBlock=function(e=!0,s=this.startNode(),i){for(s.body=[],this.expect(t.braceL),e&&this.enterScope(0);this.type!==t.braceR;){let t=this.parseStatement(null);s.body.push(t)}return i&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(s,"BlockStatement")},g.parseFor=function(e,s){return e.init=s,this.expect(t.semi),e.test=this.type===t.semi?null:this.parseExpression(),this.expect(t.semi),e.update=this.type===t.parenR?null:this.parseExpression(),this.expect(t.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},g.parseForIn=function(e,s){const i=this.type===t._in;return this.next(),"VariableDeclaration"===s.type&&null!=s.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==s.kind||"Identifier"!==s.declarations[0].id.type)&&this.raise(s.start,`${i?"for-in":"for-of"} loop variable declaration may not have an initializer`),e.left=s,e.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(t.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")},g.parseVar=function(e,s,i,a){for(e.declarations=[],e.kind=i;;){let r=this.startNode();if(this.parseVarId(r,i),this.eat(t.eq)?r.init=this.parseMaybeAssign(s):a||"const"!==i||this.type===t._in||this.options.ecmaVersion>=6&&this.isContextual("of")?a||"Identifier"===r.id.type||s&&(this.type===t._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(t.comma))break}return e},g.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?k:b,!1)};const _=1,w=2;function D(t,e){const s=e.key.name,i=t[s];let a="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(a=(e.static?"s":"i")+e.kind),"iget"===i&&"iset"===a||"iset"===i&&"iget"===a||"sget"===i&&"sset"===a||"sset"===i&&"sget"===a?(t[s]="true",!1):!!i||(t[s]=a,!1)}function V(t,e){const{computed:s,key:i}=t;return!s&&("Identifier"===i.type&&i.name===e||"Literal"===i.type&&i.value===e)}g.parseFunction=function(e,s,i,a,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!a)&&(this.type===t.star&&s&w&&this.unexpected(),e.generator=this.eat(t.star)),this.options.ecmaVersion>=8&&(e.async=!!a),s&_&&(e.id=4&s&&this.type!==t.name?null:this.parseIdent(),!e.id||s&w||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?k:b:E));let n=this.yieldPos,o=this.awaitPos,h=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(x(e.async,e.generator)),s&_||(e.id=this.type===t.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,i,!1,r),this.yieldPos=n,this.awaitPos=o,this.awaitIdentPos=h,this.finishNode(e,s&_?"FunctionDeclaration":"FunctionExpression")},g.parseFunctionParams=function(e){this.expect(t.parenL),e.params=this.parseBindingList(t.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},g.parseClass=function(e,s){this.next();const i=this.strict;this.strict=!0,this.parseClassId(e,s),this.parseClassSuper(e);const a=this.enterClassBody(),r=this.startNode();let n=!1;for(r.body=[],this.expect(t.braceL);this.type!==t.braceR;){const t=this.parseClassElement(null!==e.superClass);t&&(r.body.push(t),"MethodDefinition"===t.type&&"constructor"===t.kind?(n&&this.raiseRecoverable(t.start,"Duplicate constructor in the same class"),n=!0):t.key&&"PrivateIdentifier"===t.key.type&&D(a,t)&&this.raiseRecoverable(t.key.start,`Identifier '#${t.key.name}' has already been declared`))}return this.strict=i,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,s?"ClassDeclaration":"ClassExpression")},g.parseClassElement=function(e){if(this.eat(t.semi))return null;const s=this.options.ecmaVersion,i=this.startNode();let a="",r=!1,n=!1,o="method",h=!1;if(this.eatContextual("static")){if(s>=13&&this.eat(t.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===t.star?h=!0:a="static"}if(i.static=h,!a&&s>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==t.star||this.canInsertSemicolon()?a="async":n=!0),!a&&(s>=9||!n)&&this.eat(t.star)&&(r=!0),!a&&!n&&!r){const t=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=t:a=t)}if(a?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=a,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),s<13||this.type===t.parenL||"method"!==o||r||n){const t=!i.static&&V(i,"constructor"),s=t&&e;t&&"method"!==o&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=t?"constructor":o,this.parseClassMethod(i,r,n,s)}else this.parseClassField(i);return i},g.isClassElementNameStart=function(){return this.type===t.name||this.type===t.privateId||this.type===t.num||this.type===t.string||this.type===t.bracketL||this.type.keyword},g.parseClassElementName=function(e){this.type===t.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},g.parseClassMethod=function(t,e,s,i){const a=t.key;"constructor"===t.kind?(e&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method")):t.static&&V(t,"prototype")&&this.raise(a.start,"Classes may not have a static property named prototype");const r=t.value=this.parseMethod(e,s,i);return"get"===t.kind&&0!==r.params.length&&this.raiseRecoverable(r.start,"getter should have no params"),"set"===t.kind&&1!==r.params.length&&this.raiseRecoverable(r.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===r.params[0].type&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},g.parseClassField=function(e){if(V(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&V(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(t.eq)){const t=this.currentThisScope(),s=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=s}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},g.parseClassStaticBlock=function(e){e.body=[];let s=this.labels;for(this.labels=[],this.enterScope(C|N);this.type!==t.braceR;){let t=this.parseStatement(null);e.body.push(t)}return this.next(),this.exitScope(),this.labels=s,this.finishNode(e,"StaticBlock")},g.parseClassId=function(e,s){this.type===t.name?(e.id=this.parseIdent(),s&&this.checkLValSimple(e.id,b,!1)):(!0===s&&this.unexpected(),e.id=null)},g.parseClassSuper=function(e){e.superClass=this.eat(t._extends)?this.parseExprSubscripts(null,!1):null},g.enterClassBody=function(){const t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},g.exitClassBody=function(){const{declared:t,used:e}=this.privateNameStack.pop();if(!this.options.checkPrivateFields)return;const s=this.privateNameStack.length,i=0===s?null:this.privateNameStack[s-1];for(let s=0;s<e.length;++s){const a=e[s];d(t,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,`Private field '#${a.name}' must be declared in an enclosing class`))}},g.parseExportAllDeclaration=function(e,exports){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(exports,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==t.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},g.parseExport=function(e,exports){if(this.next(),this.eat(t.star))return this.parseExportAllDeclaration(e,exports);if(this.eat(t._default))return this.checkExport(exports,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(exports,e.declaration.declarations):this.checkExport(exports,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(exports),this.eatContextual("from"))this.type!==t.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(let t of e.specifiers)this.checkUnreserved(t.local),this.checkLocalExport(t.local),"Literal"===t.local.type&&this.raise(t.local.start,"A string literal cannot be used as an exported binding without `from`.");e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},g.parseExportDeclaration=function(t){return this.parseStatement(null)},g.parseExportDefaultDeclaration=function(){let e;if(this.type===t._function||(e=this.isAsyncFunction())){let t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|_,!1,e)}if(this.type===t._class){let t=this.startNode();return this.parseClass(t,"nullableID")}{let t=this.parseMaybeAssign();return this.semicolon(),t}},g.checkExport=function(exports,t,e){exports&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),d(exports,t)&&this.raiseRecoverable(e,"Duplicate export '"+t+"'"),exports[t]=!0)},g.checkPatternExport=function(exports,t){let e=t.type;if("Identifier"===e)this.checkExport(exports,t,t.start);else if("ObjectPattern"===e)for(let e of t.properties)this.checkPatternExport(exports,e);else if("ArrayPattern"===e)for(let e of t.elements)e&&this.checkPatternExport(exports,e);else"Property"===e?this.checkPatternExport(exports,t.value):"AssignmentPattern"===e?this.checkPatternExport(exports,t.left):"RestElement"===e?this.checkPatternExport(exports,t.argument):"ParenthesizedExpression"===e&&this.checkPatternExport(exports,t.expression)},g.checkVariableExport=function(exports,t){if(exports)for(let e of t)this.checkPatternExport(exports,e.id)},g.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},g.parseExportSpecifier=function(exports){let t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(exports,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},g.parseExportSpecifiers=function(exports){let e=[],s=!0;for(this.expect(t.braceL);!this.eat(t.braceR);){if(s)s=!1;else if(this.expect(t.comma),this.afterTrailingComma(t.braceR))break;e.push(this.parseExportSpecifier(exports))}return e},g.parseImport=function(e){return this.next(),this.type===t.string?(e.specifiers=P,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===t.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},g.parseImportSpecifier=function(){let t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,b),this.finishNode(t,"ImportSpecifier")},g.parseImportDefaultSpecifier=function(){let t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,b),this.finishNode(t,"ImportDefaultSpecifier")},g.parseImportNamespaceSpecifier=function(){let t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,b),this.finishNode(t,"ImportNamespaceSpecifier")},g.parseImportSpecifiers=function(){let e=[],s=!0;if(this.type===t.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(t.comma)))return e;if(this.type===t.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(t.braceL);!this.eat(t.braceR);){if(s)s=!1;else if(this.expect(t.comma),this.afterTrailingComma(t.braceR))break;e.push(this.parseImportSpecifier())}return e},g.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===t.string){const t=this.parseLiteral(this.value);return f.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},g.adaptDirectivePrologue=function(t){for(let e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},g.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])}});
//# sourceMappingURL=sourcemaps/statement.js.map
