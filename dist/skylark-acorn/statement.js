/**
 * skylark-acorn - A version of acorn that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./tokentype","./state","./whitespace","./identifier","./util","./parseutil","./scopeflags"],function(t,e,s,i,a,r,n){"use strict";const{types:o}=t,{Parser:h}=e,{lineBreak:p,skipWhiteSpace:l}=s,{isIdentifierStart:c,isIdentifierChar:u,keywordRelationalOperator:d}=i,{hasOwn:f,loneSurrogate:m}=a,{DestructuringErrors:x}=r,{functionFlags:y,SCOPE_SIMPLE_CATCH:S,BIND_SIMPLE_CATCH:b,BIND_LEXICAL:k,BIND_VAR:E,BIND_FUNCTION:C,SCOPE_CLASS_STATIC_BLOCK:N,SCOPE_SUPER:g}=n,I=h.prototype;I.parseTopLevel=function(t){let exports=Object.create(null);for(t.body||(t.body=[]);this.type!==o.eof;){let e=this.parseStatement(null,!0,exports);t.body.push(e)}if(this.inModule)for(let t of Object.keys(this.undefinedExports))this.raiseRecoverable(this.undefinedExports[t].start,`Export '${t}' is not defined`);return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};const v={kind:"loop"},P={kind:"switch"};I.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;l.lastIndex=this.pos;let e=l.exec(this.input),s=this.pos+e[0].length,i=this.input.charCodeAt(s);if(91===i||92===i)return!0;if(t)return!1;if(123===i||i>55295&&i<56320)return!0;if(c(i,!0)){let t=s+1;for(;u(i=this.input.charCodeAt(t),!0);)++t;if(92===i||i>55295&&i<56320)return!0;let e=this.input.slice(s,t);if(!d.test(e))return!0}return!1},I.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;l.lastIndex=this.pos;let t,e=l.exec(this.input),s=this.pos+e[0].length;return!(p.test(this.input.slice(this.pos,s))||"function"!==this.input.slice(s,s+8)||s+8!==this.input.length&&(u(t=this.input.charCodeAt(s+8))||t>55295&&t<56320))},I.parseStatement=function(t,e,exports){let s,i=this.type,a=this.startNode();switch(this.isLet(t)&&(i=o._var,s="let"),i){case o._break:case o._continue:return this.parseBreakContinueStatement(a,i.keyword);case o._debugger:return this.parseDebuggerStatement(a);case o._do:return this.parseDoStatement(a);case o._for:return this.parseForStatement(a);case o._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case o._class:return t&&this.unexpected(),this.parseClass(a,!0);case o._if:return this.parseIfStatement(a);case o._return:return this.parseReturnStatement(a);case o._switch:return this.parseSwitchStatement(a);case o._throw:return this.parseThrowStatement(a);case o._try:return this.parseTryStatement(a);case o._const:case o._var:return s=s||this.value,t&&"var"!==s&&this.unexpected(),this.parseVarStatement(a,s);case o._while:return this.parseWhileStatement(a);case o._with:return this.parseWithStatement(a);case o.braceL:return this.parseBlock(!0,a);case o.semi:return this.parseEmptyStatement(a);case o._export:case o._import:if(this.options.ecmaVersion>10&&i===o._import){l.lastIndex=this.pos;let t=l.exec(this.input),e=this.pos+t[0].length,s=this.input.charCodeAt(e);if(40===s||46===s)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===o._import?this.parseImport(a):this.parseExport(a,exports);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t);let r=this.value,n=this.parseExpression();return i===o.name&&"Identifier"===n.type&&this.eat(o.colon)?this.parseLabeledStatement(a,r,n,t):this.parseExpressionStatement(a,n)}},I.parseBreakContinueStatement=function(t,e){let s="break"===e;this.next(),this.eat(o.semi)||this.insertSemicolon()?t.label=null:this.type!==o.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());let i=0;for(;i<this.labels.length;++i){let e=this.labels[i];if(null==t.label||e.name===t.label.name){if(null!=e.kind&&(s||"loop"===e.kind))break;if(t.label&&s)break}}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,s?"BreakStatement":"ContinueStatement")},I.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},I.parseDoStatement=function(t){return this.next(),this.labels.push(v),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(o._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(o.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},I.parseForStatement=function(t){this.next();let e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(v),this.enterScope(0),this.expect(o.parenL),this.type===o.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);let s=this.isLet();if(this.type===o._var||this.type===o._const||s){let i=this.startNode(),a=s?"let":this.value;return this.next(),this.parseVar(i,!0,a),this.finishNode(i,"VariableDeclaration"),(this.type===o._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===o._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,i)):(e>-1&&this.unexpected(e),this.parseFor(t,i))}let i=this.isContextual("let"),a=!1,r=new x,n=this.parseExpression(!(e>-1)||"await",r);return this.type===o._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===o._in?e>-1&&this.unexpected(e):t.await=e>-1),i&&a&&this.raise(n.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(n,!1,r),this.checkLValPattern(n),this.parseForIn(t,n)):(this.checkExpressionErrors(r,!0),e>-1&&this.unexpected(e),this.parseFor(t,n))},I.parseFunctionStatement=function(t,e,s){return this.next(),this.parseFunction(t,w|(s?0:D),!1,e)},I.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(o._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},I.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(o.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},I.parseSwitchStatement=function(t){let e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(o.braceL),this.labels.push(P),this.enterScope(0);for(let s=!1;this.type!==o.braceR;)if(this.type===o._case||this.type===o._default){let i=this.type===o._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(s&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),s=!0,e.test=null),this.expect(o.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},I.parseThrowStatement=function(t){return this.next(),p.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};const _=[];I.parseCatchClauseParam=function(){const t=this.parseBindingAtom();let e="Identifier"===t.type;return this.enterScope(e?S:0),this.checkLValPattern(t,e?b:k),this.expect(o.parenR),t},I.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===o._catch){let e=this.startNode();this.next(),this.eat(o.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(o._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},I.parseVarStatement=function(t,e,s){return this.next(),this.parseVar(t,!1,e,s),this.semicolon(),this.finishNode(t,"VariableDeclaration")},I.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(v),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},I.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},I.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},I.parseLabeledStatement=function(t,e,s,i){for(let t of this.labels)t.name===e&&this.raise(s.start,"Label '"+e+"' is already declared");let a=this.type.isLoop?"loop":this.type===o._switch?"switch":null;for(let e=this.labels.length-1;e>=0;e--){let s=this.labels[e];if(s.statementStart!==t.start)break;s.statementStart=this.start,s.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),t.label=s,this.finishNode(t,"LabeledStatement")},I.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},I.parseBlock=function(t=!0,e=this.startNode(),s){for(e.body=[],this.expect(o.braceL),t&&this.enterScope(0);this.type!==o.braceR;){let t=this.parseStatement(null);e.body.push(t)}return s&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},I.parseFor=function(t,e){return t.init=e,this.expect(o.semi),t.test=this.type===o.semi?null:this.parseExpression(),this.expect(o.semi),t.update=this.type===o.parenR?null:this.parseExpression(),this.expect(o.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},I.parseForIn=function(t,e){const s=this.type===o._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!s||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,`${s?"for-in":"for-of"} loop variable declaration may not have an initializer`),t.left=e,t.right=s?this.parseExpression():this.parseMaybeAssign(),this.expect(o.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,s?"ForInStatement":"ForOfStatement")},I.parseVar=function(t,e,s,i){for(t.declarations=[],t.kind=s;;){let a=this.startNode();if(this.parseVarId(a,s),this.eat(o.eq)?a.init=this.parseMaybeAssign(e):i||"const"!==s||this.type===o._in||this.options.ecmaVersion>=6&&this.isContextual("of")?i||"Identifier"===a.id.type||e&&(this.type===o._in||this.isContextual("of"))?a.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(a,"VariableDeclarator")),!this.eat(o.comma))break}return t},I.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?E:k,!1)};const w=1,D=2;function V(t,e){const s=e.key.name,i=t[s];let a="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(a=(e.static?"s":"i")+e.kind),"iget"===i&&"iset"===a||"iset"===i&&"iget"===a||"sget"===i&&"sset"===a||"sset"===i&&"sget"===a?(t[s]="true",!1):!!i||(t[s]=a,!1)}function L(t,e){const{computed:s,key:i}=t;return!s&&("Identifier"===i.type&&i.name===e||"Literal"===i.type&&i.value===e)}I.parseFunction=function(t,e,s,i,a){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===o.star&&e&D&&this.unexpected(),t.generator=this.eat(o.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&w&&(t.id=4&e&&this.type!==o.name?null:this.parseIdent(),!t.id||e&D||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?E:k:C));let r=this.yieldPos,n=this.awaitPos,h=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(y(t.async,t.generator)),e&w||(t.id=this.type===o.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,s,!1,a),this.yieldPos=r,this.awaitPos=n,this.awaitIdentPos=h,this.finishNode(t,e&w?"FunctionDeclaration":"FunctionExpression")},I.parseFunctionParams=function(t){this.expect(o.parenL),t.params=this.parseBindingList(o.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},I.parseClass=function(t,e){this.next();const s=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);const i=this.enterClassBody(),a=this.startNode();let r=!1;for(a.body=[],this.expect(o.braceL);this.type!==o.braceR;){const e=this.parseClassElement(null!==t.superClass);e&&(a.body.push(e),"MethodDefinition"===e.type&&"constructor"===e.kind?(r&&this.raiseRecoverable(e.start,"Duplicate constructor in the same class"),r=!0):e.key&&"PrivateIdentifier"===e.key.type&&V(i,e)&&this.raiseRecoverable(e.key.start,`Identifier '#${e.key.name}' has already been declared`))}return this.strict=s,this.next(),t.body=this.finishNode(a,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},I.parseClassElement=function(t){if(this.eat(o.semi))return null;const e=this.options.ecmaVersion,s=this.startNode();let i="",a=!1,r=!1,n="method",h=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(o.braceL))return this.parseClassStaticBlock(s),s;this.isClassElementNameStart()||this.type===o.star?h=!0:i="static"}if(s.static=h,!i&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==o.star||this.canInsertSemicolon()?i="async":r=!0),!i&&(e>=9||!r)&&this.eat(o.star)&&(a=!0),!i&&!r&&!a){const t=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?n=t:i=t)}if(i?(s.computed=!1,s.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),s.key.name=i,this.finishNode(s.key,"Identifier")):this.parseClassElementName(s),e<13||this.type===o.parenL||"method"!==n||a||r){const e=!s.static&&L(s,"constructor"),i=e&&t;e&&"method"!==n&&this.raise(s.key.start,"Constructor can't have get/set modifier"),s.kind=e?"constructor":n,this.parseClassMethod(s,a,r,i)}else this.parseClassField(s);return s},I.isClassElementNameStart=function(){return this.type===o.name||this.type===o.privateId||this.type===o.num||this.type===o.string||this.type===o.bracketL||this.type.keyword},I.parseClassElementName=function(t){this.type===o.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},I.parseClassMethod=function(t,e,s,i){const a=t.key;"constructor"===t.kind?(e&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method")):t.static&&L(t,"prototype")&&this.raise(a.start,"Classes may not have a static property named prototype");const r=t.value=this.parseMethod(e,s,i);return"get"===t.kind&&0!==r.params.length&&this.raiseRecoverable(r.start,"getter should have no params"),"set"===t.kind&&1!==r.params.length&&this.raiseRecoverable(r.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===r.params[0].type&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},I.parseClassField=function(t){if(L(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&L(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(o.eq)){const e=this.currentThisScope(),s=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=s}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},I.parseClassStaticBlock=function(t){t.body=[];let e=this.labels;for(this.labels=[],this.enterScope(N|g);this.type!==o.braceR;){let e=this.parseStatement(null);t.body.push(e)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},I.parseClassId=function(t,e){this.type===o.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,k,!1)):(!0===e&&this.unexpected(),t.id=null)},I.parseClassSuper=function(t){t.superClass=this.eat(o._extends)?this.parseExprSubscripts(null,!1):null},I.enterClassBody=function(){const t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},I.exitClassBody=function(){const{declared:t,used:e}=this.privateNameStack.pop();if(!this.options.checkPrivateFields)return;const s=this.privateNameStack.length,i=0===s?null:this.privateNameStack[s-1];for(let s=0;s<e.length;++s){const a=e[s];f(t,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,`Private field '#${a.name}' must be declared in an enclosing class`))}},I.parseExportAllDeclaration=function(t,exports){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(exports,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==o.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},I.parseExport=function(t,exports){if(this.next(),this.eat(o.star))return this.parseExportAllDeclaration(t,exports);if(this.eat(o._default))return this.checkExport(exports,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(exports,t.declaration.declarations):this.checkExport(exports,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(exports),this.eatContextual("from"))this.type!==o.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(let e of t.specifiers)this.checkUnreserved(e.local),this.checkLocalExport(e.local),"Literal"===e.local.type&&this.raise(e.local.start,"A string literal cannot be used as an exported binding without `from`.");t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},I.parseExportDeclaration=function(t){return this.parseStatement(null)},I.parseExportDefaultDeclaration=function(){let t;if(this.type===o._function||(t=this.isAsyncFunction())){let e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,4|w,!1,t)}if(this.type===o._class){let t=this.startNode();return this.parseClass(t,"nullableID")}{let t=this.parseMaybeAssign();return this.semicolon(),t}},I.checkExport=function(exports,t,e){exports&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),f(exports,t)&&this.raiseRecoverable(e,"Duplicate export '"+t+"'"),exports[t]=!0)},I.checkPatternExport=function(exports,t){let e=t.type;if("Identifier"===e)this.checkExport(exports,t,t.start);else if("ObjectPattern"===e)for(let e of t.properties)this.checkPatternExport(exports,e);else if("ArrayPattern"===e)for(let e of t.elements)e&&this.checkPatternExport(exports,e);else"Property"===e?this.checkPatternExport(exports,t.value):"AssignmentPattern"===e?this.checkPatternExport(exports,t.left):"RestElement"===e?this.checkPatternExport(exports,t.argument):"ParenthesizedExpression"===e&&this.checkPatternExport(exports,t.expression)},I.checkVariableExport=function(exports,t){if(exports)for(let e of t)this.checkPatternExport(exports,e.id)},I.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},I.parseExportSpecifier=function(exports){let t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(exports,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},I.parseExportSpecifiers=function(exports){let t=[],e=!0;for(this.expect(o.braceL);!this.eat(o.braceR);){if(e)e=!1;else if(this.expect(o.comma),this.afterTrailingComma(o.braceR))break;t.push(this.parseExportSpecifier(exports))}return t},I.parseImport=function(t){return this.next(),this.type===o.string?(t.specifiers=_,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===o.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},I.parseImportSpecifier=function(){let t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,k),this.finishNode(t,"ImportSpecifier")},I.parseImportDefaultSpecifier=function(){let t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,k),this.finishNode(t,"ImportDefaultSpecifier")},I.parseImportNamespaceSpecifier=function(){let t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,k),this.finishNode(t,"ImportNamespaceSpecifier")},I.parseImportSpecifiers=function(){let t=[],e=!0;if(this.type===o.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(o.comma)))return t;if(this.type===o.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(o.braceL);!this.eat(o.braceR);){if(e)e=!1;else if(this.expect(o.comma),this.afterTrailingComma(o.braceR))break;t.push(this.parseImportSpecifier())}return t},I.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===o.string){const t=this.parseLiteral(this.value);return m.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},I.adaptDirectivePrologue=function(t){for(let e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},I.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])}});
//# sourceMappingURL=sourcemaps/statement.js.map
